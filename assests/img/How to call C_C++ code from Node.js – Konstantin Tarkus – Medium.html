<!DOCTYPE html>
<!-- saved from url=(0073)https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892 -->
<html xmlns:cc="http://creativecommons.org/ns#" class="gr__medium_com"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>How to call C/C++ code from Node.js – Konstantin Tarkus – Medium</title><link rel="canonical" href="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892"><meta name="title" content="How to call C/C++ code from Node.js – Konstantin Tarkus – Medium"><meta name="referrer" content="always"><meta name="description" content="It might be NOT that hard as you think! Let’s see you can you can call C/C++ code or use a native library from a Node.js app. The process looks as follows. You create a file with some C++ code (it…"><meta name="theme-color" content="#000000"><meta property="og:title" content="How to call C/C++ code from Node.js – Konstantin Tarkus – Medium"><meta property="og:url" content="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/1*3gHe3G-U5IGn3mS2UAveKA.png"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="It might be NOT that hard as you think! Let’s see you can you can call C/C++ code or use a native library from a Node.js app."><meta name="twitter:description" content="It might be NOT that hard as you think! Let’s see you can you can call C/C++ code or use a native library from a Node.js app."><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/1*3gHe3G-U5IGn3mS2UAveKA.png"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@tarkus"><meta property="author" content="Konstantin Tarkus"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="Konstantin Tarkus"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2017-09-03T20:09:43.967Z"><meta name="twitter:creator" content="@koistya"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="5 min read"><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/86a773033892"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/86a773033892"><meta property="al:android:url" content="medium://p/86a773033892"><meta property="al:web:url" content="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://medium.com/osd.xml"><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/86a773033892"><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":717,"height":385,"url":"https://cdn-images-1.medium.com/max/717/1*3gHe3G-U5IGn3mS2UAveKA.png"},"datePublished":"2017-09-03T20:09:43.967Z","dateModified":"2018-01-15T01:04:40.654Z","headline":"How to call C/C++ code from Node.js","name":"How to call C/C++ code from Node.js","keywords":["JavaScript","Nodejs","Web Development"],"author":{"@type":"Person","name":"Konstantin Tarkus","url":"https://medium.com/@tarkus"},"creator":["Konstantin Tarkus"],"publisher":{"@type":"Organization","name":"Medium","url":"https://medium.com/","logo":{"@type":"ImageObject","width":215,"height":60,"url":"https://cdn-images-1.medium.com/max/215/1*5ztbgEt4NqpVaxTc64C-XA.png"}},"mainEntityOfPage":"https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892"}</script><link rel="stylesheet" type="text/css" href="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/m2.css"><link rel="stylesheet" href="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/main-branding-base.hAxDq0-KEE94uH1Toftg0w.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/304/304/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/240/240/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"></head><body itemscope="" class="postShowScreen browser-chrome os-windows is-withMagicUnderlines v-glyph v-glyph--m2 v-enableBrandingButtons is-js" data-gr-c-s-loaded="true" data-action-scope="_actionscope_0"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main surface-container" id="container"><div class="butterBar butterBar--error" data-action-scope="_actionscope_1"></div><div class="surface" id="_obv.shell._surface_1516103327885" style="display: block; visibility: visible;"><div class="screenContent surface-content is-supplementalPostContentLoaded" data-used="true" data-action-scope="_actionscope_2"><canvas class="canvas-renderer" width="1347" height="628"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"><div class="notesMarkers" data-action-scope="_actionscope_4"></div></div><div class="metabar u-clearfix js-metabar u-fixed u-backgroundTransparentWhiteDarkest u-xs-sizeFullViewportWidth"><div class="metabar-inner u-marginAuto u-maxWidth1000 u-flexCenter u-justifyContentSpaceBetween u-paddingLeft20 u-paddingRight20 u-height65 u-xs-height56 js-metabarMiddle"><div class="metabar-block u-flex1 u-flexCenter"><div class="js-metabarLogoLeft u-xs-show"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo"><span class="svgIcon svgIcon--logoWordmark svgIcon--122x45px is-flushLeft u-xs-show u-textColorDarker"><svg class="svgIcon-use" width="122" height="45" viewBox="0 0 122 45"><path d="M61.6 31.806c0 .412 0 .505.28.758l1.574 1.537v.065h-6.979v-2.95a4.852 4.852 0 0 1-4.627 3.203c-3.588 0-6.192-2.81-6.192-7.981 0-4.843 2.81-8.075 6.754-8.075a4.122 4.122 0 0 1 4.056 2.51v-6.51a.806.806 0 0 0-.319-.787l-1.499-1.443v-.065l6.951-.815v20.553zm-5.125-.937v-9.714a2.614 2.614 0 0 0-2.08-.975c-1.695 0-3.334 1.537-3.334 6.099 0 4.271 1.414 5.78 3.175 5.78a2.81 2.81 0 0 0 2.24-1.19zm9.752 3.297V21.051a.88.88 0 0 0-.281-.786L64.4 18.672v-.065h6.98v13.302c0 .412 0 .505.28.758l1.536 1.443v.066l-6.97-.01zm-.253-20.356a2.81 2.81 0 1 1 5.62 0 2.81 2.81 0 0 1-5.62 0zm24.234 17.967c0 .413 0 .534.281.787l1.574 1.537v.065h-7.017v-3.363a5.077 5.077 0 0 1-4.805 3.616c-3.11 0-4.778-2.267-4.778-6.557 0-2.07 0-4.337.066-6.885a.796.796 0 0 0-.281-.76l-1.546-1.545v-.065h6.923v8.552c0 2.81.412 4.684 2.173 4.684a2.81 2.81 0 0 0 2.267-1.415v-9.367a.88.88 0 0 0-.28-.787l-1.556-1.602v-.065h6.979v13.17zm23.756 2.39c0-.507.094-6.952.094-8.432 0-2.81-.44-4.75-2.417-4.75a3.138 3.138 0 0 0-2.482 1.35c.198.876.292 1.772.28 2.67 0 1.948-.065 4.43-.093 6.913a.796.796 0 0 0 .281.759l1.574 1.442v.066h-7.045c0-.468.094-6.95.094-8.431 0-2.857-.44-4.75-2.389-4.75a2.81 2.81 0 0 0-2.323 1.387v9.555c0 .412 0 .506.281.759l1.537 1.442v.066h-6.97V21.098a.88.88 0 0 0-.281-.787l-1.546-1.639v-.065h6.98v3.334a5.002 5.002 0 0 1 5.002-3.587c2.323 0 3.896 1.292 4.562 3.747a5.433 5.433 0 0 1 5.245-3.747c3.11 0 4.872 2.295 4.872 6.632 0 2.07-.066 4.43-.094 6.913a.75.75 0 0 0 .318.759l1.537 1.443v.065h-7.017zm-87.671-2.043l2.07 1.977v.065H17.862v-.065l2.107-1.977a.796.796 0 0 0 .281-.759V18.728c0-.534 0-1.255.094-1.873l-7.082 17.564h-.084L5.843 18.26c-.16-.402-.206-.43-.31-.702v10.595c-.087.71.034 1.429.348 2.07l2.95 3.879v.065H1v-.065l2.95-3.888a3.69 3.69 0 0 0 .347-2.06v-11.71a2.267 2.267 0 0 0-.487-1.602l-2.089-2.708v-.065h7.494l6.277 13.686 5.527-13.686h7.335v.065l-2.061 2.296a.806.806 0 0 0-.319.786v16.15a.75.75 0 0 0 .319.759zm8.215-6.332v.065c0 4.01 2.07 5.62 4.497 5.62a5.105 5.105 0 0 0 4.777-2.894h.066c-.844 3.963-3.298 5.836-6.97 5.836-3.962 0-7.7-2.389-7.7-7.925 0-5.817 3.747-8.14 7.887-8.14 3.335 0 6.886 1.573 6.886 6.632v.806h-9.443zm0-.806h4.618v-.815c0-4.122-.852-5.218-2.136-5.218-1.555 0-2.5 1.64-2.5 6.033h.018z"></path></svg></span><span class="u-textScreenReader">Homepage</span></a></div><a class="link link--darken u-accentColor--textDarken u-baseColor--link u-xs-hide js-upgradeMembershipAction" href="https://medium.com/membership?source=upgrade_membership---nav_full" data-scroll="native">About membership</a></div><div class="metabar-block u-flex0"><div class="buttonSet buttonSet--wide"><a class="button button--primary button--chromeless u-accentColor--buttonNormal is-inSiteNavBar u-xs-hide js-signInButton" href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40tarkus%2Fhow-to-call-c-c-code-from-node-js-86a773033892&amp;source=--------------------------nav_reg&amp;operation=login" data-action="sign-in-prompt" data-redirect="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892" data-action-source="--------------------------nav_reg">Sign in</a><a class="button button--primary button--withChrome u-accentColor--buttonNormal is-inSiteNavBar js-signUpButton" href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40tarkus%2Fhow-to-call-c-c-code-from-node-js-86a773033892&amp;source=--------------------------nav_reg&amp;operation=register" data-action="sign-up-prompt" data-redirect="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892" data-action-source="--------------------------nav_reg">Get started</a></div></div><div class="u-absolute u-sizeFullWidth u-top0 u-right0 u-bottom0 u-flexCenter u-justifyContentCenter u-textAlignCenter u-xs-hide js-metabarLogoCentered"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo"><span class="svgIcon svgIcon--logoWordmark svgIcon--138x27px is-flushLeft u-xs-hide u-textColorDarker"><svg class="svgIcon-use" width="138" height="27" viewBox="0 0 138 27"><path d="M130 27V16.96c0-3.26-.154-5.472-2.437-5.472-1.16 0-2.138.57-2.863 1.512.217.906.3 1.968.3 3.127 0 2.247.036 5.11 0 7.973 0 .472-.046.58.244.87L127 27h-8V16.96c0-3.297-.461-5.472-2.708-5.472-1.16 0-1.64.653-2.292 1.595V24.1c0 .472-.026.58.3.87L116 27h-8V11.56c0-.47-.07-.579-.36-.905L106 9h8v3.612c.906-2.537 2.437-4.112 5.372-4.112 2.682 0 4.494 1.466 5.255 4.257.834-2.392 3.008-4.257 6.053-4.257 3.588 0 5.32 2.626 5.32 7.627 0 2.392.036 5.11 0 7.973 0 .472.004.652.25.87L138 27h-8zm-27-3.045c0 .472-.149.617.178.906L105 27h-8v-4c-.906 2.465-2.956 4-5.637 4C87.775 27 86 24.39 86 19.461c0-2.391-.036-5 0-7.936 0-.471-.11-.58-.4-.87L84 9h8v9.628c0 3.225.269 5.4 2.298 5.4 1.16 0 2.086-.725 2.702-1.63V11.56c0-.471-.129-.58-.419-.906L95 9h8v14.955zM78.002.25A3.248 3.248 0 0 1 81.25 3.5 3.25 3.25 0 1 1 78.002.25zM75 27V11.56c0-.47.168-.579-.122-.905L73 9h8v15.1c0 .472-.01.678.24.9L83 27h-8zM64 11.706c-.507-.652-1.418-1.123-2.396-1.123-1.957 0-3.842 1.775-3.842 7.03 0 4.93 1.631 6.669 3.66 6.669.907 0 1.853-.436 2.578-1.378V11.706zm6 12.286c0 .47-.026.58.3.87L72 27h-8v-3.697C62.913 25.804 60.951 27 58.632 27 54.5 27 51.5 23.738 51.5 17.795c0-5.582 3.254-9.314 7.784-9.314 2.356 0 3.919 1.123 4.716 2.899V3.878c0-.471-.077-.617-.403-.906L62 1.305 70 .29v23.702zM43.9 16c.037-.471.037-.67.037-.815 0-4.747-.937-5.435-2.437-5.435-1.5 0-2.854.995-2.927 6.25h5.328zm-5.327 1c0 4.711 2.392 6.63 5.183 6.63 2.174 0 4.313-.943 5.509-3.335h.072c-.942 4.566-3.77 6.705-8.01 6.705-4.566 0-8.879-2.755-8.879-9.133 0-6.705 4.277-9.386 9.097-9.386 3.842 0 7.937 1.811 7.937 7.646 0 .109 0 .438-.036.873H38.573zM31.5 27h-12l2.39-2.646c.084-.084.11-.399.11-.87V7l-7.866 20L5.581 8.372C5.364 7.9 5.181 7.285 5 6.777V20.62c0 .58-.035.653.364 1.196L9 27H0l3.64-5.183c.399-.543.36-.616.36-1.196V6.27c0-.617.095-.69-.195-1.051L1 1h8.495l7.355 16.3L23.24 1h8.26l-2.2 2.75c-.326.326-.3.599-.3 1.106v18.629c0 .47.005.75.138.87L31.5 27z"></path></svg></span><span class="u-textScreenReader">Homepage</span></a></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-height65 u-xs-height56"></div><main role="main"><article class=" u-minHeight100vhOffset65 u-overflowHidden postArticle postArticle--full u-marginBottom40" lang="en" data-scroll="native"><header class="container u-maxWidth740"><div class="uiScale uiScale-ui--regular uiScale-caption--regular postMetaHeader u-paddingBottom10 row"><div class="col u-size12of12 js-postMetaLockup"><div class="uiScale uiScale-ui--regular uiScale-caption--regular postMetaLockup postMetaLockup--authorWithBio u-flexCenter js-postMetaLockup"><div class="u-flex0"><a class="link u-baseColor--link avatar" href="https://medium.com/@tarkus?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="692b968dbc82" data-action-type="hover" data-user-id="692b968dbc82" dir="auto"><img src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/1_HRxSs7dTZGK_RA1dfRoNRQ.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Konstantin Tarkus"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><div class="u-lineHeightTightest"><a class="ds-link ds-link--styleSubtle ui-captionStrong u-inlineBlock link link--darken link--darker" href="https://medium.com/@tarkus?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="692b968dbc82" data-action-type="hover" data-user-id="692b968dbc82" dir="auto">Konstantin Tarkus</a><span class="followState js-followState" data-user-id="692b968dbc82"><button class="button button--smallest u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-xs-hide" data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--smallest u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-xs-hide" data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/692b968dbc82" data-action-source="post_header_lockup-692b968dbc82-------------------------follow_byline"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="ui-caption ui-xs-clamp2 postMetaInline">Web developer, mentor, freelancer (@kriasoft), author of React Starter Kit — popular “isomorphic” web app boilerplate. PMs open via @koistya on Twitter</div><div class="ui-caption postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2017-09-03T20:09:43.967Z">Sep 3, 2017</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="5 min read"></span></div></div></div></div></div></header><div class="postArticle-content js-postField js-notesSource js-trackedPost" data-post-id="86a773033892" data-source="post_page" data-tracking-context="postPage" data-scroll="native"><section name="fa86" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="b4b9" id="b4b9" class="graf graf--h3 graf--leading graf--title">How to call C/C++ code from&nbsp;Node.js</h1><p name="57bd" id="57bd" class="graf graf--p graf-after--h3">It might be NOT that hard as you think! Let’s see you can you can call <strong class="markup--strong markup--p-strong">C/C++</strong> code or use a native library from a <strong class="markup--strong markup--p-strong">Node.js</strong> app.</p><figure name="892e" id="892e" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 376px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 53.7%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*3gHe3G-U5IGn3mS2UAveKA.png" data-width="717" data-height="385" data-action="zoom" data-action-value="1*3gHe3G-U5IGn3mS2UAveKA.png" data-scroll="native"><img src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/1_3gHe3G-U5IGn3mS2UAveKA.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="40"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*3gHe3G-U5IGn3mS2UAveKA.png" src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/1_3gHe3G-U5IGn3mS2UAveKA(1).png"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*3gHe3G-U5IGn3mS2UAveKA.png"&gt;</noscript></div></div><figcaption class="imageCaption">Node.js ❤&nbsp;C/C++</figcaption></figure><blockquote name="4908" id="4908" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong"><em class="markup--em markup--blockquote-em">Q</em></strong>: Why would I need to call C/C++ code? There is half a million NPM modules, why would I need native stuff at all?</blockquote><blockquote name="c204" id="c204" class="graf graf--blockquote graf-after--blockquote"><strong class="markup--strong markup--blockquote-strong"><em class="markup--em markup--blockquote-em">A</em></strong>: It you don’t need any C/C++ interop right now, it doesn’t mean you won’t need it in the future. In large apps there is usually a mix of different programming languages and technologies is used, you don’t want to limit yourself to working with a single stack, but instead, choose the right tool for the job.</blockquote><figure name="b9f4" id="b9f4" class="graf graf--figure graf--iframe graf-after--blockquote"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 37%;"></div><div class="progressiveMedia js-progressiveMedia is-canvasLoaded is-imageLoaded" data-scroll="native"><img src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/resize" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="75"></canvas><div class="iframeContainer"><iframe data-width="500" data-height="185" width="500" height="185" data-src="/media/c76e6991067488a2858530a9048fa786?postId=86a773033892" data-media-id="c76e6991067488a2858530a9048fa786" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F762858401390927875%2FuW_17lxZ_400x400.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07" class="progressiveMedia-iframe js-progressiveMedia-iframe" allowfullscreen="" frameborder="0" src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/c76e6991067488a2858530a9048fa786.html"></iframe></div><noscript class="js-progressiveMedia-inner">&lt;div class="iframeContainer"&gt;&lt;IFRAME data-width="500" data-height="185" width="500" height="185" src="/media/c76e6991067488a2858530a9048fa786?postId=86a773033892" data-media-id="c76e6991067488a2858530a9048fa786" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F762858401390927875%2FuW_17lxZ_400x400.jpg&amp;amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen frameborder="0"&gt;&lt;/IFRAME&gt;&lt;/div&gt;</noscript></div></div></figure><blockquote name="d9fe" id="d9fe" class="graf graf--blockquote graf-after--figure">Consider, for example, a password hashing function that is used during sign in process. It’s takes at least 200ms to calculate a hash string, by design! You don’t want to make it run on the same thread where your Node.js app is running, at least, not in a production environment.</blockquote><p name="4987" id="4987" class="graf graf--p graf-after--blockquote">The process looks as follows. You create a file with some C++ code (it may call some 3rd party library), place <code class="markup--code markup--p-code">binding.gyp</code> configuration file in the root of your project, telling what exactly needs to be compiled natively (more on that later), add <code class="markup--code markup--p-code">gypfile: true</code> flag to <code class="markup--code markup--p-code">package.json</code>, run <code class="markup--code markup--p-code">yarn install</code> (or, <code class="markup--code markup--p-code">npm install</code>). It will compile your C++ code into a <code class="markup--code markup--p-code">/build/Release/&lt;name&gt;.node</code> file, that later on can be referenced from inside JavaScript code and used as if it was a regular JavaScript module. You don’t even need the <code class="markup--code markup--p-code">node-gyp</code> module installed globally (or, locally) for that, because npm (or, yarn) can use the built-in <a href="https://github.com/nodejs/node-gyp" data-href="https://github.com/nodejs/node-gyp" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">node-gyp</a> library to compile your code.</p><p name="d37e" id="d37e" class="graf graf--p graf-after--p">This <code class="markup--code markup--p-code">&lt;name&gt;.node</code> thingy is called an “addon” in Node.js terminology.</p><blockquote name="825f" id="825f" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">Node</strong>.<strong class="markup--strong markup--blockquote-strong">js Addons</strong> are dynamically-linked shared objects, written in C++, that can be loaded into <strong class="markup--strong markup--blockquote-strong">Node</strong>.<strong class="markup--strong markup--blockquote-strong">js</strong> using the require() function, and used just as if they were an ordinary <strong class="markup--strong markup--blockquote-strong">Node</strong>.<strong class="markup--strong markup--blockquote-strong">js</strong> module. They are used primarily to provide an interface between JavaScript running in <strong class="markup--strong markup--blockquote-strong">Node</strong>.<strong class="markup--strong markup--blockquote-strong">js</strong> and C/C++ libraries.</blockquote><h3 name="271f" id="271f" class="graf graf--h3 graf-after--blockquote">Hello World</h3><p name="18ab" id="18ab" class="graf graf--p graf-after--h3">Let’s start by rewriting the following piece of JavaScript code into C++:</p><pre name="4ad2" id="4ad2" class="graf graf--pre graf-after--p">module.exports.hello = () =&gt; 'world';</pre><p name="596b" id="596b" class="graf graf--p graf-after--pre">Assuming that you already have a sandox project with a Node.js app, create two files in the root of your project — <code class="markup--code markup--p-code">binding.cpp</code> and <code class="markup--code markup--p-code">binding.gyp</code> with the following content:</p><h4 name="8750" id="8750" class="graf graf--h4 graf-after--p">binding.cpp</h4><pre name="aaab" id="aaab" class="graf graf--pre graf-after--h4">#include &lt;napi.h&gt;</pre><pre name="4275" id="4275" class="graf graf--pre graf-after--pre">using namespace Napi;</pre><pre name="6c07" id="6c07" class="graf graf--pre graf-after--pre">String Hello(const CallbackInfo&amp; info) {<br>  return String::New(info.Env(), "world");<br>}</pre><pre name="328c" id="328c" class="graf graf--pre graf-after--pre">void Init(Env env, Object exports, Object module) {<br>  exports.Set("hello", Function::New(env, Hello));<br>}</pre><pre name="5b0a" id="5b0a" class="graf graf--pre graf-after--pre">NODE_API_MODULE(addon, Init)</pre><h4 name="a230" id="a230" class="graf graf--h4 graf-after--pre">binding.gyp</h4><pre name="cf8f" id="cf8f" class="graf graf--pre graf-after--h4">{<br>  "targets": [<br>    {<br>      "target_name": "native",<br>      "sources": [<br>        "binding.cpp"<br>      ],<br>      "include_dirs": [<br>        "&lt;!@(node -p \"require('node-addon-api').include\")"<br>      ],<br>      "dependencies": [<br>        "&lt;!(node -p \"require('node-addon-api').gyp\")"<br>      ],<br>      "cflags!": ["-fno-exceptions"],<br>      "cflags_cc!": ["-fno-exceptions"],<br>      "defines": ["NAPI_CPP_EXCEPTIONS"]<br>    }<br>  ]<br>}</pre><p name="e24b" id="e24b" class="graf graf--p graf-after--pre">Also, update <code class="markup--code markup--p-code">package.json</code> file in the root of your project to include <code class="markup--code markup--p-code">gypfile: true</code> flag and <code class="markup--code markup--p-code">node-addon-api</code> dependency:</p><pre name="0e32" id="0e32" class="graf graf--pre graf-after--p">{<br>  "name": "app",<br>  "version": "0.0.0",<br>  "private": true,<br>  "gypfile": true,<br>  "dependencies": {<br>    "node-addon-api": "^0.6.3"<br>  }<br>} </pre><p name="5833" id="5833" class="graf graf--p graf-after--pre">The <code class="markup--code markup--p-code">target_name</code> field in <code class="markup--code markup--p-code">binding.gyp</code> file is used to tell npm/yarn under what name to save the compiled output file. In our case it will be saved into <code class="markup--code markup--p-code">build/Release/native.node</code>.</p><p name="8e99" id="8e99" class="graf graf--p graf-after--p">The <code class="markup--code markup--p-code">binding.gyp &gt; targets &gt; sources</code> field contains the list of C/C++ source files that need to be compiled. If you add another&nbsp;<code class="markup--code markup--p-code">.cpp</code> or&nbsp;<code class="markup--code markup--p-code">.h</code> file, don’t forget to append it to that list.</p><p name="a2ce" id="a2ce" class="graf graf--p graf-after--p">The <code class="markup--code markup--p-code">Env</code>, <code class="markup--code markup--p-code">Object</code>, <code class="markup--code markup--p-code">String</code>, <code class="markup--code markup--p-code">CallbackInfo</code> in the<code class="markup--code markup--p-code">binding.cpp</code> file are C++ wrapper classes over Node’s C API (aka N-API) imported from the <code class="markup--code markup--p-code">Napi</code> namespace (notice <code class="markup--code markup--p-code">using namespace Napi;</code> at the top of the file). If you’re curious, you can find their implementations inside of the <a href="https://github.com/nodejs/node-addon-api" data-href="https://github.com/nodejs/node-addon-api" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">nodejs/node-addon-api</a> project on GitHub (see <a href="https://github.com/nodejs/node-addon-api/blob/master/napi.h" data-href="https://github.com/nodejs/node-addon-api/blob/master/napi.h" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">napi.h</a> for example). The actual source files from “node-addon-api” helper module are referenced in the <code class="markup--code markup--p-code">include_dirs</code> and <code class="markup--code markup--p-code">dependencies</code> fields in the <code class="markup--code markup--p-code">binding.gyp</code> file.</p><p name="99a3" id="99a3" class="graf graf--p graf-after--p">Now, after building the project via <code class="markup--code markup--p-code">yarn install</code> (or, <code class="markup--code markup--p-code">npm install)</code> you must be able to call your native module from JavaScript. The only gotcha is that “node-addon-api” is still an experimental feature and works only under <code class="markup--code markup--p-code">--napi-modules</code> flag. So you can execute it as follows:</p><pre name="efce" id="efce" class="graf graf--pre graf-after--p">$ node --napi-modules -e \<br>  "console.log(require('./build/Release/native.node').hello())"</pre><pre name="e433" id="e433" class="graf graf--pre graf-after--pre">world</pre><blockquote name="46c0" id="46c0" class="graf graf--blockquote graf-after--pre">There is one more useful library called <code class="markup--code markup--blockquote-code">bindings</code> that allows importing Node.js addons without providing the full path-name to the&nbsp;<code class="markup--code markup--blockquote-code">.node</code> file. Install it by running <code class="markup--code markup--blockquote-code">yarn add bindings</code>, then you’ll be able to reference our native module as follows: <code class="markup--code markup--blockquote-code">const native = require('bindings')('native');</code></blockquote><h3 name="1642" id="1642" class="graf graf--h3 graf-after--blockquote">Using a native C/C++ library from&nbsp;Node.js</h3><p name="e72b" id="e72b" class="graf graf--p graf-after--h3">Now, let’s call some 3rd party library from under our native module (addon). I’d like to believe that you develop your Node.js apps inside Docker containers. As an example, let’s install <a href="https://download.libsodium.org/doc/" data-href="https://download.libsodium.org/doc/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Sodium</a> crypto library and try to call its methods from our <code class="markup--code markup--p-code">binding.cpp</code> file. In <code class="markup--code markup--p-code">node:8.4.0-alpine</code> Docker container you can install it as follows:</p><pre name="2839" id="2839" class="graf graf--pre graf-after--p">apk add --no-cache make g++ python2 libsodium-dev</pre><p name="5cb0" id="5cb0" class="graf graf--p graf-after--pre">The <code class="markup--code markup--p-code">make</code>&nbsp;, <code class="markup--code markup--p-code">g++</code> and <code class="markup--code markup--p-code">python2</code> modules are used in order to be able to compile C/C++ code inside <code class="markup--code markup--p-code">node:alpine</code> container, and <code class="markup--code markup--p-code">libsodium-dev</code> is the library itself that we will use. In development mode you would use <code class="markup--code markup--p-code">libsodium-dev</code> as it comes with the source files and in production mode you would install <code class="markup--code markup--p-code">libsodium</code>.</p><p name="b581" id="b581" class="graf graf--p graf-after--p">Now let’s update <code class="markup--code markup--p-code">binding.gyp</code> file to reference <code class="markup--code markup--p-code">libsodium</code> as follows:</p><pre name="3ada" id="3ada" class="graf graf--pre graf-after--p">{<br>  "targets": [<br>    {<br>      ...<br>      "include_dirs": [<br>        "&lt;!@(node -p \"require('node-addon-api').include\")",<br>        "/usr/include/sodium"<br>      ],<br>      ...<br>      "libraries": ["/usr/lib/libsodium.so.18"],<br>      ...<br>    }<br>  ]<br>}</pre><p name="9e27" id="9e27" class="graf graf--p graf-after--pre">Now you can reference <code class="markup--code markup--p-code">sodium.h</code> at the top of the <code class="markup--code markup--p-code">binding.cpp</code> file and try to call some of the libsodium’s methods. We’re going to use <code class="markup--code markup--p-code"><a href="https://download.libsodium.org/doc/password_hashing/the_argon2i_function.html" data-href="https://download.libsodium.org/doc/password_hashing/the_argon2i_function.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">crypto_pwhash_str</a></code> function in our example that converts a password string into a hash using <a href="https://github.com/p-h-c/phc-winner-argon2" data-href="https://github.com/p-h-c/phc-winner-argon2" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Argon2</a> password hashing algorithm:</p><pre name="82c0" id="82c0" class="graf graf--pre graf-after--p">#include &lt;napi.h&gt;<br>#include &lt;sodium.h&gt;</pre><pre name="f43c" id="f43c" class="graf graf--pre graf-after--pre">using namespace Napi;</pre><pre name="9bfa" id="9bfa" class="graf graf--pre graf-after--pre">String Hash(const CallbackInfo&amp; info) {<br>  Env env = info.Env();<br>  std::string password = info[0].As&lt;String&gt;().Utf8Value();<br>  char hash[crypto_pwhash_STRBYTES];</pre><pre name="d989" id="d989" class="graf graf--pre graf-after--pre">  crypto_pwhash_str(<br>    hash,<br>    password.c_str(),<br>    password.size(),<br>    crypto_pwhash_OPSLIMIT_INTERACTIVE,<br>    crypto_pwhash_MEMLIMIT_INTERACTIVE);</pre><pre name="4296" id="4296" class="graf graf--pre graf-after--pre">  return String::New(env, hash.c_str(), crypto_pwhash_STRBYTES);<br>}</pre><pre name="0256" id="0256" class="graf graf--pre graf-after--pre">void Init(Env env, Object exports, Object module) {<br>  exports.Set("hash", Function::New(env, Hash));<br>}</pre><pre name="6139" id="6139" class="graf graf--pre graf-after--pre">NODE_API_MODULE(addon, Init)</pre><p name="2f17" id="2f17" class="graf graf--p graf-after--pre">Now, after running <code class="markup--code markup--p-code">yarn install</code> you can run this code in Node:</p><pre name="f3fd" id="f3fd" class="graf graf--pre graf-after--p">$ node --napi-modules -e \<br>  "console.log(require('bindings')('native').hash('Passw0rd'))"</pre><pre name="b020" id="b020" class="graf graf--pre graf-after--pre">$argon2i$v=19$m=32768,t=4,p=1$/N3vumg47o4EfbdB5FZ5xQ$utzaQCjEKmBTW1g1+50KUOgsRdUmRhNI1TfuxA8X9qU</pre><p name="357f" id="357f" class="graf graf--p graf-after--pre">There is a little bit more work to make this code work asynchronously, but it’s still pretty easy to do. You can find a working example here:</p><p name="0715" id="0715" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code"><a href="https://github.com/kriasoft/nodejs-api-starter/blob/c985206/src/utils/password_hash.cc" data-href="https://github.com/kriasoft/nodejs-api-starter/blob/c985206/src/utils/password_hash.cc" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">src/utils/password_hash.cpp</a></code> in the <a href="https://github.com/kriasoft/nodejs-api-starter" data-href="https://github.com/kriasoft/nodejs-api-starter" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong">Node.js API Starter</strong></a> project on GitHub.</p><h3 name="4a6d" id="4a6d" class="graf graf--h3 graf-after--p">Summary</h3><p name="8d11" id="8d11" class="graf graf--p graf-after--h3">Calling C/C++ code using modern <a href="https://nodejs.org/api/n-api.html" data-href="https://nodejs.org/api/n-api.html" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">N-API</a> interface in combination with C++ wrappers (<code class="markup--code markup--p-code"><a href="https://github.com/nodejs/node-addon-api" data-href="https://github.com/nodejs/node-addon-api" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">node-addon-api</a></code>) is almost too easy to be true. I hope the code samples above demonstrate the point. Just try to avoid using old APIs and approaches, e.g. <a href="https://github.com/nodejs/nan" data-href="https://github.com/nodejs/nan" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Nan</a>, using C instead of C++, and you’ll be good&nbsp;:)</p><p name="5433" id="5433" class="graf graf--p graf-after--p graf--trailing">Happy coding!</p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link" href="https://medium.com/tag/javascript?source=post" data-action-source="post">JavaScript</a></li><li><a class="link u-baseColor--link" href="https://medium.com/tag/nodejs?source=post" data-action-source="post">Nodejs</a></li><li><a class="link u-baseColor--link" href="https://medium.com/tag/web-development?source=post" data-action-source="post">Web Development</a></li></ul></div></div></div><section class="uiScale uiScale-ui--small uiScale-caption--regular u-borderTopLightest u-marginTop10 u-paddingTop20"><div class="ui-h3 u-textColorDarker u-fontSize22">One clap, two clap, three clap, forty?</div><p class="ui-body u-marginBottom20 u-textColorDark u-fontSize16">By clapping more or less, you can signal to us which stories really stand out.</p></section><div class="postActions u-flexCenter js-postActionsFooter"><div class="u-flex1"><div class="multirecommend js-actionMultirecommend u-flexCenter u-width60" data-post-id="86a773033892" data-is-icon-29px="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_actions_footer-----86a773033892---------------------clap_footer"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal clap-onboarding" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/86a773033892" data-action-source="post_actions_footer-----86a773033892---------------------clap_footer" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"></path><path d="M13.285.48l-1.916.881 2.37 2.837z"></path><path d="M21.719 1.361L19.79.501l-.44 3.697z"></path><path d="M16.502 3.298L15.481 0h2.043z"></path></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight" data-action="multivote-undo" data-action-value="86a773033892"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"></path></svg></span></button></div></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft10"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton" data-action="show-recommends" data-action-value="86a773033892">568</button></span></div></div><div class="buttonSet u-flex0"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"></path></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal" data-action="scroll-to-responses">3</button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide" title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"></path></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide" title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"></path></svg></span></button><button class="button button--large button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-show" title="Share this story on Twitter or Facebook" aria-label="Share this story on Twitter or Facebook" data-action="show-share-popover" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--share svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.385 8H19a.5.5 0 1 0 .011 1h1.39c.43 0 .84.168 1.14.473.31.305.48.71.48 1.142v10.77c0 .43-.17.837-.47 1.142-.3.305-.71.473-1.14.473H8.62c-.43 0-.84-.168-1.144-.473a1.603 1.603 0 0 1-.473-1.142v-10.77c0-.43.17-.837.48-1.142A1.599 1.599 0 0 1 8.62 9H10a.502.502 0 0 0 0-1H8.615c-.67 0-1.338.255-1.85.766-.51.51-.765 1.18-.765 1.85v10.77c0 .668.255 1.337.766 1.848.51.51 1.18.766 1.85.766h11.77c.668 0 1.337-.255 1.848-.766.51-.51.766-1.18.766-1.85v-10.77c0-.668-.255-1.337-.766-1.848A2.61 2.61 0 0 0 20.384 8zm-8.67-2.508L14 3.207v8.362c0 .27.224.5.5.5s.5-.23.5-.5V3.2l2.285 2.285a.49.49 0 0 0 .704-.001.511.511 0 0 0 0-.708l-3.14-3.14a.504.504 0 0 0-.71 0L11 4.776a.501.501 0 0 0 .71.706" fill-rule="evenodd"></path></svg></span></button></div></div></div><div class="u-maxWidth740 u-paddingTop20 u-marginTop20 u-borderTopLightest container u-paddingBottom20 u-xs-paddingBottom10 js-postAttributionFooterContainer"><div class="row js-postFooterInfo"><div class="col u-size12of12"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState" data-user-id="692b968dbc82"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton" data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton" data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/692b968dbc82" data-action-source="footer_card-692b968dbc82-------------------------follow_footer"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell"><a class="link u-baseColor--link avatar" href="https://medium.com/@tarkus?source=footer_card" title="Go to the profile of Konstantin Tarkus" aria-label="Go to the profile of Konstantin Tarkus" data-action-source="footer_card" data-user-id="692b968dbc82" dir="auto"><img src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/1_HRxSs7dTZGK_RA1dfRoNRQ.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Konstantin Tarkus"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal" href="https://medium.com/@tarkus" property="cc:attributionName" title="Go to the profile of Konstantin Tarkus" aria-label="Go to the profile of Konstantin Tarkus" rel="author cc:attributionUrl" data-user-id="692b968dbc82" dir="auto">Konstantin Tarkus</a></h3><p class="ui-body u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Web developer, mentor, freelancer (<a href="http://twitter.com/kriasoft" target="_blank" title="Twitter profile for @kriasoft">@kriasoft</a>), author of React Starter Kit — popular “isomorphic” web app boilerplate. PMs open via <a href="http://twitter.com/koistya" target="_blank" title="Twitter profile for @koistya">@koistya</a> on Twitter</p></div></li></div></div></div><div class="js-postFooterPlacements" data-action-scope="_actionscope_6"><div class="streamItem streamItem--placementCardGrid js-streamItem"><div class="u-clearfix u-backgroundGrayLightest"><div class="row u-marginAuto u-maxWidth1000 u-paddingTop30 u-paddingBottom40"><div class="col u-padding8 u-xs-size12of12 u-size4of12"><div class="uiScale uiScale-ui--small uiScale-caption--regular u-height280 u-sizeFullWidth u-backgroundWhite u-borderCardBorder u-boxShadow u-borderBox u-borderRadius4 js-trackedPost" data-post-id="956357872fe4" data-source="placement_card_footer_grid---------0-44" data-tracking-context="placement" data-scroll="native"><a class="link link--noUnderline u-baseColor--link" href="https://hackernoon.com/camelcase-snake-case-conversion-with-postgresql-and-knex-js-956357872fe4?source=placement_card_footer_grid---------0-44" data-action-source="placement_card_footer_grid---------0-44"><div class="u-backgroundCover u-backgroundColorGrayLight u-height100 u-sizeFullWidth u-borderBottomLight u-borderRadiusTop4" style="background-image: url(&quot;https://cdn-images-1.medium.com/fit/c/400/120/1*2dNb7nWxQKJQZEz8P2tiYQ.jpeg&quot;); background-position: 50% 50% !important;"></div></a><div class="u-padding15 u-borderBox u-flexColumn u-height180"><a class="link link--noUnderline u-baseColor--link u-flex1" href="https://hackernoon.com/camelcase-snake-case-conversion-with-postgresql-and-knex-js-956357872fe4?source=placement_card_footer_grid---------0-44" data-action-source="placement_card_footer_grid---------0-44"><div class="uiScale uiScale-ui--regular uiScale-caption--small u-textColorNormal u-marginBottom7">More from Konstantin Tarkus</div><div class="ui-h3 ui-clamp2 u-textColorDarkest u-contentSansBold u-fontSize24 u-maxHeight2LineHeightTighter u-lineClamp2 u-textOverflowEllipsis u-letterSpacingTight u-paddingBottom2">“camelCase” &lt; = &gt; “snake_case” conversion with PostgreSQL and Knex.js</div></a><div class="u-paddingTop10 u-flex0 u-flexCenter"><div class="u-flex1 u-minWidth0 u-marginRight10"><div class="u-flexCenter"><div class="postMetaInline-avatar u-flex0"><a class="link u-baseColor--link avatar" href="https://hackernoon.com/@tarkus" data-action="show-user-card" data-action-value="692b968dbc82" data-action-type="hover" data-user-id="692b968dbc82" data-collection-slug="hacker-daily" dir="auto"><img src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/1_HRxSs7dTZGK_RA1dfRoNRQ(1).jpeg" class="avatar-image u-size36x36 u-xs-size32x32" alt="Go to the profile of Konstantin Tarkus"></a></div><div class="postMetaInline postMetaInline-authorLockup ui-captionStrong u-flex1 u-noWrapWithEllipsis"><a class="ds-link ds-link--styleSubtle link link--darken link--darker" href="https://hackernoon.com/@tarkus?source=placement_card_footer_grid---------0-44" data-action="show-user-card" data-action-source="placement_card_footer_grid---------0-44" data-action-value="692b968dbc82" data-action-type="hover" data-user-id="692b968dbc82" data-collection-slug="hacker-daily" dir="auto">Konstantin Tarkus</a><div class="ui-caption u-fontSize12 u-baseColor--textNormal u-textColorNormal js-postMetaInlineSupplemental"><span class="readingTime u-textColorNormal" title="3 min read"></span></div></div></div></div><div class="u-flex0 u-flexCenter"><div class="buttonSet"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="956357872fe4" data-is-label-padded="true" data-source="placement_card_footer_grid-----956357872fe4----0-44----------------clap_preview"><div class="u-relative u-foreground"><button class="button button--primary button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/956357872fe4" data-action-source="placement_card_footer_grid-----956357872fe4----0-44----------------clap_preview" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.739 0l.761 2.966L13.261 0z"></path><path d="M14.815 3.776l1.84-2.551-1.43-.471z"></path><path d="M8.378 1.224l1.84 2.551L9.81.753z"></path><path d="M20.382 21.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L4.11 14.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L6.43 8.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L18.628 14c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM10.99 5.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"></path></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.738 0l.762 2.966L13.262 0z"></path><path d="M16.634 1.224l-1.432-.47-.408 3.022z"></path><path d="M9.79.754l-1.431.47 1.84 2.552z"></path><path d="M22.472 13.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"></path><path d="M12.58 9.887c-.156-.83.096-1.569.692-2.142L10.78 5.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"></path><path d="M15.812 9.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L7.2 6.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L5.046 8.54 3.802 7.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394L3.647 9.93l4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L2.89 10.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C19.74 19.8 20.271 17 18.62 13.982L15.812 9.04z"></path></g></svg></span></span></button></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-disablePointerEvents u-marginLeft4" data-action="show-recommends" data-action-value="956357872fe4">41</button></span></div></div><div class="u-height20 u-borderRightLighter u-inlineBlock u-relative u-marginRight10 u-marginLeft12"></div><div class="buttonSet"><button class="button button--chromeless is-touchIconFadeInPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/956357872fe4" data-action-source="placement_card_footer_grid-----956357872fe4----0-44----------------bookmark_preview"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126a.508.508 0 0 0 .708-.03.5.5 0 0 0 .118-.285H19V6zm-6.838 9.97L7 19.636V6c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v13.637l-5.162-3.668a.49.49 0 0 0-.676 0z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126c.205.183.52.17.708-.03a.5.5 0 0 0 .118-.285H19V6z"></path></svg></span></span></button></div></div></div></div></div></div><div class="col u-padding8 u-xs-size12of12 u-size4of12"><div class="uiScale uiScale-ui--small uiScale-caption--regular u-height280 u-sizeFullWidth u-backgroundWhite u-borderCardBorder u-boxShadow u-borderBox u-borderRadius4 js-trackedPost" data-post-id="20753574e915" data-source="placement_card_footer_grid---------1-40" data-tracking-context="placement" data-scroll="native"><a class="link link--noUnderline u-baseColor--link" href="https://medium.com/javascript-scene/new-content-on-ericelliottjs-com-20753574e915?source=placement_card_footer_grid---------1-40" data-action-source="placement_card_footer_grid---------1-40"><div class="u-backgroundCover u-backgroundColorGrayLight u-height100 u-sizeFullWidth u-borderBottomLight u-borderRadiusTop4" style="background-image: url(&quot;https://cdn-images-1.medium.com/fit/c/400/120/1*Lo8cD5m7VqUXPlKF3lgfNQ.jpeg&quot;); background-position: 50% 50% !important;"></div></a><div class="u-padding15 u-borderBox u-flexColumn u-height180"><a class="link link--noUnderline u-baseColor--link u-flex1" href="https://medium.com/javascript-scene/new-content-on-ericelliottjs-com-20753574e915?source=placement_card_footer_grid---------1-40" data-action-source="placement_card_footer_grid---------1-40"><div class="uiScale uiScale-ui--regular uiScale-caption--small u-textColorNormal u-marginBottom7">Related reads</div><div class="ui-h3 ui-clamp2 u-textColorDarkest u-contentSansBold u-fontSize24 u-maxHeight2LineHeightTighter u-lineClamp2 u-textOverflowEllipsis u-letterSpacingTight u-paddingBottom2">New Content on EricElliottJS.com</div></a><div class="u-paddingTop10 u-flex0 u-flexCenter"><div class="u-flex1 u-minWidth0 u-marginRight10"><div class="u-flexCenter"><div class="postMetaInline-avatar u-flex0"><a class="link u-baseColor--link avatar" href="https://medium.com/@_ericelliott" data-action="show-user-card" data-action-value="c359511de780" data-action-type="hover" data-user-id="c359511de780" dir="auto"><img src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/0_WgY9B-Lm4DnCEHlO.jpeg" class="avatar-image u-size36x36 u-xs-size32x32" alt="Go to the profile of Eric Elliott"></a></div><div class="postMetaInline postMetaInline-authorLockup ui-captionStrong u-flex1 u-noWrapWithEllipsis"><a class="ds-link ds-link--styleSubtle link link--darken link--darker" href="https://medium.com/@_ericelliott?source=placement_card_footer_grid---------1-40" data-action="show-user-card" data-action-source="placement_card_footer_grid---------1-40" data-action-value="c359511de780" data-action-type="hover" data-user-id="c359511de780" dir="auto">Eric Elliott</a><div class="ui-caption u-fontSize12 u-baseColor--textNormal u-textColorNormal js-postMetaInlineSupplemental"><span class="readingTime u-textColorNormal" title="2 min read"></span></div></div></div></div><div class="u-flex0 u-flexCenter"><div class="buttonSet"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="20753574e915" data-is-label-padded="true" data-source="placement_card_footer_grid-----20753574e915----1-40----------------clap_preview"><div class="u-relative u-foreground"><button class="button button--primary button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/20753574e915" data-action-source="placement_card_footer_grid-----20753574e915----1-40----------------clap_preview" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.739 0l.761 2.966L13.261 0z"></path><path d="M14.815 3.776l1.84-2.551-1.43-.471z"></path><path d="M8.378 1.224l1.84 2.551L9.81.753z"></path><path d="M20.382 21.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L4.11 14.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L6.43 8.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L18.628 14c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM10.99 5.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"></path></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.738 0l.762 2.966L13.262 0z"></path><path d="M16.634 1.224l-1.432-.47-.408 3.022z"></path><path d="M9.79.754l-1.431.47 1.84 2.552z"></path><path d="M22.472 13.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"></path><path d="M12.58 9.887c-.156-.83.096-1.569.692-2.142L10.78 5.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"></path><path d="M15.812 9.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L7.2 6.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L5.046 8.54 3.802 7.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394L3.647 9.93l4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L2.89 10.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C19.74 19.8 20.271 17 18.62 13.982L15.812 9.04z"></path></g></svg></span></span></button></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-disablePointerEvents u-marginLeft4" data-action="show-recommends" data-action-value="20753574e915">211</button></span></div></div><div class="u-height20 u-borderRightLighter u-inlineBlock u-relative u-marginRight10 u-marginLeft12"></div><div class="buttonSet"><button class="button button--chromeless is-touchIconFadeInPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/20753574e915" data-action-source="placement_card_footer_grid-----20753574e915----1-40----------------bookmark_preview"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126a.508.508 0 0 0 .708-.03.5.5 0 0 0 .118-.285H19V6zm-6.838 9.97L7 19.636V6c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v13.637l-5.162-3.668a.49.49 0 0 0-.676 0z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126c.205.183.52.17.708-.03a.5.5 0 0 0 .118-.285H19V6z"></path></svg></span></span></button></div></div></div></div></div></div><div class="col u-padding8 u-xs-size12of12 u-size4of12"><div class="uiScale uiScale-ui--small uiScale-caption--regular u-height280 u-sizeFullWidth u-backgroundWhite u-borderCardBorder u-boxShadow u-borderBox u-borderRadius4 js-trackedPost" data-post-id="991672995fdf" data-source="placement_card_footer_grid---------2-43" data-tracking-context="placement" data-scroll="native"><a class="link link--noUnderline u-baseColor--link" href="https://medium.freecodecamp.org/how-i-re-built-the-medium-clap-effect-and-what-i-got-out-of-the-experiment-991672995fdf?source=placement_card_footer_grid---------2-43" data-action-source="placement_card_footer_grid---------2-43"><div class="u-backgroundCover u-backgroundColorGrayLight u-height100 u-sizeFullWidth u-borderBottomLight u-borderRadiusTop4" style="background-image: url(&quot;https://cdn-images-1.medium.com/fit/c/400/120/1*2gzBT_k8M-SrIZ1maT7njQ.gif&quot;); background-position: 50% 50% !important;"></div></a><div class="u-padding15 u-borderBox u-flexColumn u-height180"><a class="link link--noUnderline u-baseColor--link u-flex1" href="https://medium.freecodecamp.org/how-i-re-built-the-medium-clap-effect-and-what-i-got-out-of-the-experiment-991672995fdf?source=placement_card_footer_grid---------2-43" data-action-source="placement_card_footer_grid---------2-43"><div class="uiScale uiScale-ui--regular uiScale-caption--small u-textColorNormal u-marginBottom7">Also tagged Web Development</div><div class="ui-h3 ui-clamp2 u-textColorDarkest u-contentSansBold u-fontSize24 u-maxHeight2LineHeightTighter u-lineClamp2 u-textOverflowEllipsis u-letterSpacingTight u-paddingBottom2">How I (re)built the Medium clap effect — and what I got out of the experiment.</div></a><div class="u-paddingTop10 u-flex0 u-flexCenter"><div class="u-flex1 u-minWidth0 u-marginRight10"><div class="u-flexCenter"><div class="postMetaInline-avatar u-flex0"><a class="link u-baseColor--link avatar" href="https://medium.freecodecamp.org/@ohansemmanuel" data-action="show-user-card" data-action-value="aea1cff96976" data-action-type="hover" data-user-id="aea1cff96976" data-collection-slug="free-code-camp" dir="auto"><img src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/1_51uPJMaa-1ibOoLRrDFI4Q.jpeg" class="avatar-image u-size36x36 u-xs-size32x32" alt="Go to the profile of Ohans Emmanuel"></a></div><div class="postMetaInline postMetaInline-authorLockup ui-captionStrong u-flex1 u-noWrapWithEllipsis"><a class="ds-link ds-link--styleSubtle link link--darken link--darker" href="https://medium.freecodecamp.org/@ohansemmanuel?source=placement_card_footer_grid---------2-43" data-action="show-user-card" data-action-source="placement_card_footer_grid---------2-43" data-action-value="aea1cff96976" data-action-type="hover" data-user-id="aea1cff96976" data-collection-slug="free-code-camp" dir="auto">Ohans Emmanuel</a><div class="ui-caption u-fontSize12 u-baseColor--textNormal u-textColorNormal js-postMetaInlineSupplemental"><span class="readingTime u-textColorNormal" title="5 min read"></span></div></div></div></div><div class="u-flex0 u-flexCenter"><div class="buttonSet"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="991672995fdf" data-is-label-padded="true" data-source="placement_card_footer_grid-----991672995fdf----2-43----------------clap_preview"><div class="u-relative u-foreground"><button class="button button--primary button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/991672995fdf" data-action-source="placement_card_footer_grid-----991672995fdf----2-43----------------clap_preview" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.739 0l.761 2.966L13.261 0z"></path><path d="M14.815 3.776l1.84-2.551-1.43-.471z"></path><path d="M8.378 1.224l1.84 2.551L9.81.753z"></path><path d="M20.382 21.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L4.11 14.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L6.43 8.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L18.628 14c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM10.99 5.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"></path></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.738 0l.762 2.966L13.262 0z"></path><path d="M16.634 1.224l-1.432-.47-.408 3.022z"></path><path d="M9.79.754l-1.431.47 1.84 2.552z"></path><path d="M22.472 13.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"></path><path d="M12.58 9.887c-.156-.83.096-1.569.692-2.142L10.78 5.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"></path><path d="M15.812 9.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L7.2 6.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L5.046 8.54 3.802 7.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394L3.647 9.93l4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L2.89 10.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C19.74 19.8 20.271 17 18.62 13.982L15.812 9.04z"></path></g></svg></span></span></button></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-disablePointerEvents u-marginLeft4" data-action="show-recommends" data-action-value="991672995fdf">96K</button></span></div></div><div class="u-height20 u-borderRightLighter u-inlineBlock u-relative u-marginRight10 u-marginLeft12"></div><div class="buttonSet"><button class="button button--chromeless is-touchIconFadeInPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/991672995fdf" data-action-source="placement_card_footer_grid-----991672995fdf----2-43----------------bookmark_preview"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126a.508.508 0 0 0 .708-.03.5.5 0 0 0 .118-.285H19V6zm-6.838 9.97L7 19.636V6c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v13.637l-5.162-3.668a.49.49 0 0 0-.676 0z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126c.205.183.52.17.708-.03a.5.5 0 0 0 .118-.285H19V6z"></path></svg></span></span></button></div></div></div></div></div></div></div></div></div></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper" data-action-scope="_actionscope_5"><div class="container u-maxWidth740"><div class="responsesStreamWrapper u-maxWidth640 js-responsesStreamWrapper"><div class="container responsesStream-title u-paddingTop15"><div class="row"><header class="heading"><div class="u-clearfix"><div class="heading-content u-floatLeft"><span class="heading-title heading-title--semibold">Responses</span></div></div></header></div></div><div class="responsesStream-editor cardChromeless u-marginBottom20 u-paddingLeft20 u-paddingRight20 js-responsesStreamEditor"><div class="u-paddingTop30 u-paddingBottom30 u-paddingLeft0 u-paddingRight0 u-borderBottomLightest js-responsesLoggedOutPrompt"><button class="button button--chromeless is-touchIconBlackPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--withIconAndLabel button--loggedOutPrompt" data-action="sign-up-prompt" data-redirect="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892#--respond" data-skip-onboarding="true" data-action-source="logged_out_response_prompt--------------------------respond_box"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"></path></svg></span><span class="button-label  js-buttonLabel">Write a response…</span></button></div></div><div class="responsesStream js-responsesStream"></div><div class="container js-showOtherResponses"><div class="row"><button class="button button--primary button--withChrome u-accentColor--buttonNormal responsesStream-showOtherResponses cardChromeless u-sizeFullWidth u-marginVertical20 u-heightAuto" data-action="show-other-responses">Show all responses</button></div></div><div class="responsesStream js-responsesStreamOther"></div></div></div></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><div class="u-marginAuto u-maxWidth1000"><div class="js-postShareWidget u-foreground u-sm-hide u-fixed u-transition--fadeIn300" data-scroll="fixed" style="top: 150px;"><ul><li class="u-textAlignCenter u-marginVertical10"><div class="multirecommend js-actionMultirecommend u-flexColumn u-marginBottom10 u-width60" data-post-id="86a773033892" data-is-icon-29px="true" data-is-vertical="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_share_widget-----86a773033892---------------------clap_sidebar"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/86a773033892" data-action-source="post_share_widget-----86a773033892---------------------clap_sidebar" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"></path><path d="M13.285.48l-1.916.881 2.37 2.837z"></path><path d="M21.719 1.361L19.79.501l-.44 3.697z"></path><path d="M16.502 3.298L15.481 0h2.043z"></path></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight" data-action="multivote-undo" data-action-value="86a773033892"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"></path></svg></span></button></div></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-flexOrderNegative1 u-height20 u-marginBottom7"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-block u-marginAuto" data-action="show-recommends" data-action-value="86a773033892">568</button></span></div></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"></path></svg></span></button></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"></path></svg></span></button></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/86a773033892" data-action-source="post_share_widget-----86a773033892---------------------bookmark_sidebar"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"></path></svg></span></span></button></li></ul></div></div><div class="u-fixed u-bottom0 u-sizeFullWidth u-backgroundWhite u-boxShadowTop u-borderBox u-paddingTop10 u-paddingBottom10 u-zIndexMetabar u-xs-paddingLeft10 u-xs-paddingRight10 js-stickyFooter"><div class="u-maxWidth700 u-marginAuto u-flexCenter"><div class="u-fontSize16 u-flex1 u-flexCenter"><div class="u-flex0 u-inlineBlock u-paddingRight20 u-xs-paddingRight10"><a class="link u-baseColor--link avatar u-inline" href="https://medium.com/@tarkus" data-action="show-user-card" data-action-value="692b968dbc82" data-action-type="hover" data-user-id="692b968dbc82" dir="auto"><img src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/1_HRxSs7dTZGK_RA1dfRoNRQ(2).jpeg" class="avatar-image avatar-image--smaller" alt="Go to the profile of Konstantin Tarkus"></a></div><div class="u-flex1 u-inlineBlock"><div class="u-xs-hide">Never miss a story from<strong> Konstantin Tarkus</strong>, when you sign up for Medium. <a class="link u-baseColor--link link--accent u-accentColor--textNormal u-accentColor--textDarken" href="https://medium.com/@Medium/personalize-your-medium-experience-with-users-publications-tags-26a41ab1ee0c#.hx4zuv3mg" data-action-source="sticky_footer">Learn more</a></div><div class="u-xs-show">Never miss a story from<strong> Konstantin Tarkus</strong></div></div></div><div class="u-marginLeft50 u-xs-marginAuto"><span class="followState js-followState" data-user-id="692b968dbc82"><button class="button u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-uiTextSemibold u-textUppercase u-fontSize12" data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892" data-action-source="sticky_footer"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary is-active u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-uiTextSemibold u-textUppercase u-fontSize12" data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/692b968dbc82" data-action-source="sticky_footer-692b968dbc82-------------------------follow_metabar"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Get updates</span></button></span></div></div></div><div class="highlightMenu" data-action-scope="_actionscope_3"><div class="highlightMenu-inner"><div class="buttonSet"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu u-accentColor--highlightStrong js-highlightMenuQuoteButton" data-action="sign-up-prompt" data-sign-in-action="quote" data-requires-token="true" data-redirect="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892" data-skip-onboarding="true" data-redirect-type="quote" data-action-source="quote_menu--------------------------highlight_text"><span class="svgIcon svgIcon--highlighter svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M13.7 15.964l5.204-9.387-4.726-2.62-5.204 9.387 4.726 2.62zm-.493.885l-1.313 2.37-1.252.54-.702 1.263-3.796-.865 1.228-2.213-.202-1.35 1.314-2.37 4.722 2.616z" fill-rule="evenodd"></path></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu" data-action="sign-up-prompt" data-sign-in-action="quote-respond" data-redirect="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892" data-skip-onboarding="true" data-action-source="quote_menu--------------------------respond_text"><span class="svgIcon svgIcon--responseFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19.074 21.117c-1.244 0-2.432-.37-3.532-1.096a7.792 7.792 0 0 1-.703-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.662 0 8.457 3.5 8.457 7.803 0 2.058-.85 3.984-2.403 5.448.023.17.06.35.118.55.192.69.537 1.38 1.026 2.04.15.21.172.48.058.7a.686.686 0 0 1-.613.38h-.03z" fill-rule="evenodd"></path></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu" data-action="twitter" data-action-source="quote_menu"><span class="svgIcon svgIcon--twitterFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M21.725 5.338c-.744.47-1.605.804-2.513 1.006a3.978 3.978 0 0 0-2.942-1.293c-2.22 0-4.02 1.81-4.02 4.02 0 .32.034.63.07.94-3.31-.18-6.27-1.78-8.255-4.23a4.544 4.544 0 0 0-.574 2.01c.04 1.43.74 2.66 1.8 3.38-.63-.01-1.25-.19-1.79-.5v.08c0 1.93 1.38 3.56 3.23 3.95-.34.07-.7.12-1.07.14-.25-.02-.5-.04-.72-.07.49 1.58 1.97 2.74 3.74 2.8a8.49 8.49 0 0 1-5.02 1.72c-.3-.03-.62-.04-.93-.07A11.447 11.447 0 0 0 8.88 21c7.386 0 11.43-6.13 11.414-11.414.015-.21.01-.38 0-.578a7.604 7.604 0 0 0 2.01-2.08 7.27 7.27 0 0 1-2.297.645 3.856 3.856 0 0 0 1.72-2.23"></path></svg></span></button><div class="buttonSet-separator"></div><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu" data-action="sign-up-prompt" data-sign-in-action="highlight" data-redirect="https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892" data-skip-onboarding="true" data-action-source="quote_menu--------------------------privatenote_text"><span class="svgIcon svgIcon--privatenoteFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M17.662 4.552H7.346A4.36 4.36 0 0 0 3 8.898v5.685c0 2.168 1.614 3.962 3.697 4.28v2.77c0 .303.35.476.59.29l3.904-2.994h6.48c2.39 0 4.35-1.96 4.35-4.35V8.9c0-2.39-1.95-4.346-4.34-4.346zM16 14.31a.99.99 0 0 1-1.003.99h-4.994C9.45 15.3 9 14.85 9 14.31v-3.02a.99.99 0 0 1 1-.99v-.782a2.5 2.5 0 0 1 2.5-2.51c1.38 0 2.5 1.13 2.5 2.51v.782c.552.002 1 .452 1 .99v3.02z"></path><path d="M14 9.81c0-.832-.674-1.68-1.5-1.68-.833 0-1.5.84-1.5 1.68v.49h3v-.49z"></path></g></svg></span></button></div></div><div class="highlightMenu-arrowClip"><span class="highlightMenu-arrow"></span></div></div></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"32186-3d58009","currentUser":{"userId":"lo_dnt_24c907419dd9","isVerified":false,"subscriberEmail":"","hasPastMemberships":false,"isEnrolledInHightower":false,"isEligibleForHightower":false,"hightowerLastLockedAt":0},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"language":"en-us","mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.Gy6PdjVuTCIft7ova_WDfw.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.IlHACqjPkxpGqs9_pAxXfw.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.xTD4-k9ixFlOPqIOA56GbA.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.wlAsNFEQF8T6h__XNKzDbA.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.9trLv1ULaoOqI1YfdK9pOQ.js","payments":"https://cdn-static-1.medium.com/_/fp/gen-js/main-payments.bundle.bqcfaXaEvKWsMBgvvg4Jrw.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.ILtAAjXQFaUJ1kJkzSk2IA.js","pubs":"https://cdn-static-1.medium.com/_/fp/gen-js/main-pubs.bundle.pyaf8xodVzZ37jWN-FECgA.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.wZKJkAAwnEnN87HuNF2XvQ.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":true,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1516103324461:506550de2c","useragent":{"browser":"chrome","family":"chrome","os":"windows","version":63,"supportsDesktopEdit":true,"supportsInteract":true,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":true,"isTier1":true,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":true,"supportsVhUnits":true,"ruinsViewportSections":false,"supportsHtml5Video":true,"supportsMagicUnderlines":true,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":true,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":true,"supportsVideoSections":false,"emojiSupportLevel":1,"isSearchBot":false,"supportsScrollableMetabar":true},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"reengagement_notification_duration":3,"browsable_stream_config_bucket":"universal-nav-bar","enable_series_creation":true,"enable_your_series_pages":true,"enable_productionized_series":true,"enable_dedicated_series_tab_api_ios":true,"enable_clap_milestone_notifications":true,"enable_series_stats_page":true,"enable_post_import":true,"enable_sponsored_post_labelling":true,"enable_export_members":true,"enable_series_card_background_creation":true,"available_monthly_plan":"60e220181034","available_annual_plan":"2c754bcc2995","enable_sms":true,"is_not_medium_subscriber":true,"disable_followed_tag_fan_out":true,"enable_emoji_in_editor":true,"enable_glyph":true,"glyph_font_set":"m2","enable_branding":true,"enable_branding_fonts":true,"enable_branding_buttons":true,"enable_multirecommends":true,"enable_user_post_metering":true,"enable_login_modal_for_all":true,"max_premium_content_per_user_under_metering":3,"enable_topic_writer_onboarding":true,"enable_algolia_search_reporting":true,"enable_strong_graph_chp_reorder":true,"enable_top_stories_for_you":true,"enable_ios_member_post_labeling":true,"enable_li_search_collection":true,"enable_revamped_nav_bar":true,"enable_audio_playlists":true,"enable_standalone_profile_edit_page":true,"enable_standalone_user_follow_pages":true,"enable_post_footer_copy":true,"app_download_email_template":"control"},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","fp":{"/icons/monogram-mask.svg":"https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico","faviconImageId":"1*8I-HPL0bfoIzGied-dzOvA.png","fontSets":[{"id":8,"url":"https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css"},{"id":9,"url":"https://glyph.medium.com/css/mkt.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium-editor.3Y6xpZ-0FSdWDnPM3hSBIA.ico","glyphUrl":"https://glyph.medium.com"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":true,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"facebook":{"key":"542599432471018","namespace":"medium-com","scope":{"default":["public_profile","email","user_friends"],"connect":["public_profile","email","user_friends"],"login":["public_profile","email","user_friends"],"share":["public_profile","email","user_friends","publish_actions"]}},"mailingListArchiveUploadSizeMb":2,"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","audioContentTopicId":"3792abbd134","brandedSequenceId":"7d337ddf1941","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com","buggle":{"url":"https://buggle.medium.com","videoUrl":"https://cdn-videos-1.medium.com","audioUrl":"https://cdn-audio-1.medium.com"},"referrerType":2,"isMeteredOut":false,"meterConfig":{"maxUnlockCount":3,"windowLength":"MONTHLY"},"partnerProgramEmail":"partnerprogram@medium.com","userResearchPrompts":[]}
// ]]></script><script charset="UTF-8" src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/main-base.bundle.Gy6PdjVuTCIft7ova_WDfw.js.download" async=""></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"86a773033892","versionId":"bb41039e599f","creatorId":"692b968dbc82","creator":{"userId":"692b968dbc82","name":"Konstantin Tarkus","username":"tarkus","createdAt":1412282912617,"lastPostCreatedAt":1513419989511,"imageId":"1*HRxSs7dTZGK_RA1dfRoNRQ.jpeg","backgroundImageId":"1*3otdLy96vTHPvULsFygp2w.jpeg","bio":"Web developer, mentor, freelancer (@kriasoft), author of React Starter Kit — popular “isomorphic” web app boilerplate. PMs open via @koistya on Twitter","twitterScreenName":"koistya","socialStats":{"userId":"692b968dbc82","usersFollowedCount":224,"usersFollowedByCount":1362,"type":"SocialStats"},"social":{"userId":"lo_dnt_24c907419dd9","targetUserId":"692b968dbc82","type":"Social"},"facebookAccountId":"10152885190272868","allowNotes":1,"type":"User"},"homeCollectionId":"","title":"How to call C/C++ code from Node.js","detectedLanguage":"en","latestVersion":"bb41039e599f","latestPublishedVersion":"bb41039e599f","hasUnpublishedEdits":false,"latestRev":1183,"createdAt":1504461524002,"updatedAt":1515978280654,"acceptedAt":0,"firstPublishedAt":1504469383967,"latestPublishedAt":1504520047461,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"It might be NOT that hard as you think! Let’s see you can you can call C/C++ code or use a native library from a Node.js app.","bodyModel":{"paragraphs":[{"name":"b4b9","type":3,"text":"How to call C/C++ code from Node.js","markups":[]},{"name":"57bd","type":1,"text":"It might be NOT that hard as you think! Let’s see you can you can call C/C++ code or use a native library from a Node.js app.","markups":[{"type":1,"start":71,"end":76},{"type":1,"start":113,"end":120}]},{"name":"892e","type":4,"text":"Node.js ❤ C/C++","markups":[],"layout":1,"metadata":{"id":"1*3gHe3G-U5IGn3mS2UAveKA.png","originalWidth":717,"originalHeight":385}},{"name":"4908","type":6,"text":"Q: Why would I need to call C/C++ code? There is half a million NPM modules, why would I need native stuff at all?","markups":[{"type":1,"start":0,"end":1},{"type":2,"start":0,"end":1}]},{"name":"c204","type":6,"text":"A: It you don’t need any C/C++ interop right now, it doesn’t mean you won’t need it in the future. In large apps there is usually a mix of different programming languages and technologies is used, you don’t want to limit yourself to working with a single stack, but instead, choose the right tool for the job.","markups":[{"type":1,"start":0,"end":1},{"type":2,"start":0,"end":1}]},{"name":"b9f4","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"c76e6991067488a2858530a9048fa786","iframeWidth":500,"iframeHeight":185,"thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F762858401390927875%2FuW_17lxZ_400x400.jpg&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"d9fe","type":6,"text":"Consider, for example, a password hashing function that is used during sign in process. It’s takes at least 200ms to calculate a hash string, by design! You don’t want to make it run on the same thread where your Node.js app is running, at least, not in a production environment.","markups":[]},{"name":"4987","type":1,"text":"The process looks as follows. You create a file with some C++ code (it may call some 3rd party library), place binding.gyp configuration file in the root of your project, telling what exactly needs to be compiled natively (more on that later), add gypfile: true flag to package.json, run yarn install (or, npm install). It will compile your C++ code into a /build/Release/\x3cname\x3e.node file, that later on can be referenced from inside JavaScript code and used as if it was a regular JavaScript module. You don’t even need the node-gyp module installed globally (or, locally) for that, because npm (or, yarn) can use the built-in node-gyp library to compile your code.","markups":[{"type":10,"start":111,"end":122},{"type":10,"start":248,"end":261},{"type":10,"start":270,"end":282},{"type":10,"start":288,"end":300},{"type":10,"start":306,"end":317},{"type":10,"start":357,"end":383},{"type":10,"start":525,"end":533},{"type":3,"start":628,"end":636,"href":"https://github.com/nodejs/node-gyp","title":"","rel":"noopener","anchorType":0}]},{"name":"d37e","type":1,"text":"This \x3cname\x3e.node thingy is called an “addon” in Node.js terminology.","markups":[{"type":10,"start":5,"end":16}]},{"name":"825f","type":6,"text":"Node.js Addons are dynamically-linked shared objects, written in C++, that can be loaded into Node.js using the require() function, and used just as if they were an ordinary Node.js module. They are used primarily to provide an interface between JavaScript running in Node.js and C/C++ libraries.","markups":[{"type":1,"start":0,"end":4},{"type":1,"start":5,"end":14},{"type":1,"start":94,"end":98},{"type":1,"start":99,"end":101},{"type":1,"start":174,"end":178},{"type":1,"start":179,"end":181},{"type":1,"start":268,"end":272},{"type":1,"start":273,"end":275}]},{"name":"271f","type":3,"text":"Hello World","markups":[]},{"name":"18ab","type":1,"text":"Let’s start by rewriting the following piece of JavaScript code into C++:","markups":[]},{"name":"4ad2","type":8,"text":"module.exports.hello = () =\x3e 'world';","markups":[]},{"name":"596b","type":1,"text":"Assuming that you already have a sandox project with a Node.js app, create two files in the root of your project — binding.cpp and binding.gyp with the following content:","markups":[{"type":10,"start":115,"end":126},{"type":10,"start":131,"end":142}]},{"name":"8750","type":13,"text":"binding.cpp","markups":[]},{"name":"aaab","type":8,"text":"#include \x3cnapi.h\x3e","markups":[]},{"name":"4275","type":8,"text":"using namespace Napi;","markups":[]},{"name":"6c07","type":8,"text":"String Hello(const CallbackInfo& info) {\n  return String::New(info.Env(), \"world\");\n}","markups":[]},{"name":"328c","type":8,"text":"void Init(Env env, Object exports, Object module) {\n  exports.Set(\"hello\", Function::New(env, Hello));\n}","markups":[]},{"name":"5b0a","type":8,"text":"NODE_API_MODULE(addon, Init)","markups":[]},{"name":"a230","type":13,"text":"binding.gyp","markups":[]},{"name":"cf8f","type":8,"text":"{\n  \"targets\": [\n    {\n      \"target_name\": \"native\",\n      \"sources\": [\n        \"binding.cpp\"\n      ],\n      \"include_dirs\": [\n        \"\x3c!@(node -p \\\"require('node-addon-api').include\\\")\"\n      ],\n      \"dependencies\": [\n        \"\x3c!(node -p \\\"require('node-addon-api').gyp\\\")\"\n      ],\n      \"cflags!\": [\"-fno-exceptions\"],\n      \"cflags_cc!\": [\"-fno-exceptions\"],\n      \"defines\": [\"NAPI_CPP_EXCEPTIONS\"]\n    }\n  ]\n}","markups":[]},{"name":"e24b","type":1,"text":"Also, update package.json file in the root of your project to include gypfile: true flag and node-addon-api dependency:","markups":[{"type":10,"start":13,"end":25},{"type":10,"start":70,"end":83},{"type":10,"start":93,"end":107}]},{"name":"0e32","type":8,"text":"{\n  \"name\": \"app\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"gypfile\": true,\n  \"dependencies\": {\n    \"node-addon-api\": \"^0.6.3\"\n  }\n} ","markups":[]},{"name":"5833","type":1,"text":"The target_name field in binding.gyp file is used to tell npm/yarn under what name to save the compiled output file. In our case it will be saved into build/Release/native.node.","markups":[{"type":10,"start":4,"end":15},{"type":10,"start":25,"end":36},{"type":10,"start":151,"end":176}]},{"name":"8e99","type":1,"text":"The binding.gyp \x3e targets \x3e sources field contains the list of C/C++ source files that need to be compiled. If you add another .cpp or .h file, don’t forget to append it to that list.","markups":[{"type":10,"start":4,"end":35},{"type":10,"start":127,"end":131},{"type":10,"start":135,"end":137}]},{"name":"a2ce","type":1,"text":"The Env, Object, String, CallbackInfo in thebinding.cpp file are C++ wrapper classes over Node’s C API (aka N-API) imported from the Napi namespace (notice using namespace Napi; at the top of the file). If you’re curious, you can find their implementations inside of the nodejs/node-addon-api project on GitHub (see napi.h for example). The actual source files from “node-addon-api” helper module are referenced in the include_dirs and dependencies fields in the binding.gyp file.","markups":[{"type":10,"start":4,"end":7},{"type":10,"start":9,"end":15},{"type":10,"start":17,"end":23},{"type":10,"start":25,"end":37},{"type":10,"start":44,"end":55},{"type":10,"start":133,"end":137},{"type":10,"start":156,"end":177},{"type":10,"start":419,"end":431},{"type":10,"start":436,"end":448},{"type":10,"start":463,"end":474},{"type":3,"start":271,"end":292,"href":"https://github.com/nodejs/node-addon-api","title":"","rel":"","anchorType":0},{"type":3,"start":316,"end":322,"href":"https://github.com/nodejs/node-addon-api/blob/master/napi.h","title":"","rel":"","anchorType":0}]},{"name":"99a3","type":1,"text":"Now, after building the project via yarn install (or, npm install) you must be able to call your native module from JavaScript. The only gotcha is that “node-addon-api” is still an experimental feature and works only under --napi-modules flag. So you can execute it as follows:","markups":[{"type":10,"start":36,"end":48},{"type":10,"start":54,"end":66},{"type":10,"start":223,"end":237}]},{"name":"efce","type":8,"text":"$ node --napi-modules -e \\\n  \"console.log(require('./build/Release/native.node').hello())\"","markups":[]},{"name":"e433","type":8,"text":"world","markups":[]},{"name":"46c0","type":6,"text":"There is one more useful library called bindings that allows importing Node.js addons without providing the full path-name to the .node file. Install it by running yarn add bindings, then you’ll be able to reference our native module as follows: const native = require('bindings')('native');","markups":[{"type":10,"start":40,"end":48},{"type":10,"start":130,"end":135},{"type":10,"start":164,"end":181},{"type":10,"start":246,"end":291}]},{"name":"1642","type":3,"text":"Using a native C/C++ library from Node.js","markups":[]},{"name":"e72b","type":1,"text":"Now, let’s call some 3rd party library from under our native module (addon). I’d like to believe that you develop your Node.js apps inside Docker containers. As an example, let’s install Sodium crypto library and try to call its methods from our binding.cpp file. In node:8.4.0-alpine Docker container you can install it as follows:","markups":[{"type":10,"start":246,"end":257},{"type":10,"start":267,"end":284},{"type":3,"start":187,"end":193,"href":"https://download.libsodium.org/doc/","title":"","rel":"","anchorType":0}]},{"name":"2839","type":8,"text":"apk add --no-cache make g++ python2 libsodium-dev","markups":[]},{"name":"5cb0","type":1,"text":"The make , g++ and python2 modules are used in order to be able to compile C/C++ code inside node:alpine container, and libsodium-dev is the library itself that we will use. In development mode you would use libsodium-dev as it comes with the source files and in production mode you would install libsodium.","markups":[{"type":10,"start":4,"end":8},{"type":10,"start":11,"end":14},{"type":10,"start":19,"end":26},{"type":10,"start":93,"end":104},{"type":10,"start":120,"end":133},{"type":10,"start":208,"end":221},{"type":10,"start":297,"end":306}]},{"name":"b581","type":1,"text":"Now let’s update binding.gyp file to reference libsodium as follows:","markups":[{"type":10,"start":17,"end":28},{"type":10,"start":47,"end":56}]},{"name":"3ada","type":8,"text":"{\n  \"targets\": [\n    {\n      ...\n      \"include_dirs\": [\n        \"\x3c!@(node -p \\\"require('node-addon-api').include\\\")\",\n        \"/usr/include/sodium\"\n      ],\n      ...\n      \"libraries\": [\"/usr/lib/libsodium.so.18\"],\n      ...\n    }\n  ]\n}","markups":[]},{"name":"9e27","type":1,"text":"Now you can reference sodium.h at the top of the binding.cpp file and try to call some of the libsodium’s methods. We’re going to use crypto_pwhash_str function in our example that converts a password string into a hash using Argon2 password hashing algorithm:","markups":[{"type":10,"start":22,"end":30},{"type":10,"start":49,"end":60},{"type":10,"start":134,"end":151},{"type":3,"start":134,"end":151,"href":"https://download.libsodium.org/doc/password_hashing/the_argon2i_function.html","title":"","rel":"","anchorType":0},{"type":3,"start":226,"end":232,"href":"https://github.com/p-h-c/phc-winner-argon2","title":"","rel":"","anchorType":0}]},{"name":"82c0","type":8,"text":"#include \x3cnapi.h\x3e\n#include \x3csodium.h\x3e","markups":[]},{"name":"f43c","type":8,"text":"using namespace Napi;","markups":[]},{"name":"9bfa","type":8,"text":"String Hash(const CallbackInfo& info) {\n  Env env = info.Env();\n  std::string password = info[0].As\x3cString\x3e().Utf8Value();\n  char hash[crypto_pwhash_STRBYTES];","markups":[]},{"name":"d989","type":8,"text":"  crypto_pwhash_str(\n    hash,\n    password.c_str(),\n    password.size(),\n    crypto_pwhash_OPSLIMIT_INTERACTIVE,\n    crypto_pwhash_MEMLIMIT_INTERACTIVE);","markups":[]},{"name":"4296","type":8,"text":"  return String::New(env, hash.c_str(), crypto_pwhash_STRBYTES);\n}","markups":[]},{"name":"0256","type":8,"text":"void Init(Env env, Object exports, Object module) {\n  exports.Set(\"hash\", Function::New(env, Hash));\n}","markups":[]},{"name":"6139","type":8,"text":"NODE_API_MODULE(addon, Init)","markups":[]},{"name":"2f17","type":1,"text":"Now, after running yarn install you can run this code in Node:","markups":[{"type":10,"start":19,"end":31}]},{"name":"f3fd","type":8,"text":"$ node --napi-modules -e \\\n  \"console.log(require('bindings')('native').hash('Passw0rd'))\"","markups":[]},{"name":"b020","type":8,"text":"$argon2i$v=19$m=32768,t=4,p=1$/N3vumg47o4EfbdB5FZ5xQ$utzaQCjEKmBTW1g1+50KUOgsRdUmRhNI1TfuxA8X9qU","markups":[]},{"name":"357f","type":1,"text":"There is a little bit more work to make this code work asynchronously, but it’s still pretty easy to do. You can find a working example here:","markups":[]},{"name":"0715","type":1,"text":"src/utils/password_hash.cpp in the Node.js API Starter project on GitHub.","markups":[{"type":10,"start":0,"end":27},{"type":3,"start":0,"end":27,"href":"https://github.com/kriasoft/nodejs-api-starter/blob/c985206/src/utils/password_hash.cc","title":"","rel":"","anchorType":0},{"type":3,"start":35,"end":54,"href":"https://github.com/kriasoft/nodejs-api-starter","title":"","rel":"","anchorType":0},{"type":1,"start":35,"end":54}]},{"name":"4a6d","type":3,"text":"Summary","markups":[]},{"name":"8d11","type":1,"text":"Calling C/C++ code using modern N-API interface in combination with C++ wrappers (node-addon-api) is almost too easy to be true. I hope the code samples above demonstrate the point. Just try to avoid using old APIs and approaches, e.g. Nan, using C instead of C++, and you’ll be good :)","markups":[{"type":10,"start":82,"end":96},{"type":3,"start":32,"end":37,"href":"https://nodejs.org/api/n-api.html","title":"","rel":"noopener","anchorType":0},{"type":3,"start":82,"end":96,"href":"https://github.com/nodejs/node-addon-api","title":"","rel":"noopener","anchorType":0},{"type":3,"start":236,"end":239,"href":"https://github.com/nodejs/nan","title":"","rel":"","anchorType":0}]},{"name":"5433","type":1,"text":"Happy coding!","markups":[]}],"sections":[{"name":"fa86","startIndex":0}]},"postDisplay":{"coverless":true}},"virtuals":{"allowNotes":true,"previewImage":{"imageId":"1*3gHe3G-U5IGn3mS2UAveKA.png","filter":"","backgroundSize":"","originalWidth":717,"originalHeight":385,"strategy":"resample","height":0,"width":0},"wordCount":1092,"imageCount":1,"readingTime":4.320754716981132,"subtitle":"It might be NOT that hard as you think! Let’s see you can you can call C/C++ code or use a native library from a Node.js app.","usersBySocialRecommends":[],"recommends":97,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"javascript","name":"JavaScript","postCount":53906,"virtuals":{"isFollowing":false},"metadata":{"followerCount":41147,"postCount":53906,"coverImage":{"id":"1*5pa7-lgBJW1DQpFC68biuA.png","originalWidth":1344,"originalHeight":1288}},"type":"Tag"},{"slug":"nodejs","name":"Nodejs","postCount":11419,"virtuals":{"isFollowing":false},"metadata":{"followerCount":12626,"postCount":11419,"coverImage":{"id":"1*ax3AGfyJhlDWiBDMXYBv7Q.png","originalWidth":1478,"originalHeight":976,"isFeatured":true}},"type":"Tag"},{"slug":"web-development","name":"Web Development","postCount":61263,"virtuals":{"isFollowing":false},"metadata":{"followerCount":45244,"postCount":61263,"coverImage":{"id":"1*5pa7-lgBJW1DQpFC68biuA.png","originalWidth":1344,"originalHeight":1288}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":3,"links":{"entries":[{"url":"https://nodejs.org/api/n-api.html","alts":[],"httpStatus":200},{"url":"https://github.com/kriasoft/nodejs-api-starter/blob/c985206/src/utils/password_hash.cc","alts":[],"httpStatus":200},{"url":"https://github.com/p-h-c/phc-winner-argon2","alts":[],"httpStatus":200},{"url":"https://github.com/nodejs/node-addon-api/blob/master/napi.h","alts":[],"httpStatus":200},{"url":"https://github.com/kriasoft/nodejs-api-starter","alts":[],"httpStatus":200},{"url":"https://github.com/nodejs/nan","alts":[],"httpStatus":200},{"url":"https://github.com/nodejs/node-gyp","alts":[],"httpStatus":200},{"url":"https://github.com/nodejs/node-addon-api","alts":[],"httpStatus":200},{"url":"https://download.libsodium.org/doc/","alts":[],"httpStatus":200},{"url":"https://download.libsodium.org/doc/password_hashing/the_argon2i_function.html","alts":[],"httpStatus":200}],"version":"0.3","generatedAt":1504520069433},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":568,"sectionCount":1,"readingList":0},"coverless":true,"slug":"how-to-call-c-c-code-from-node-js","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"how-to-call-c-c-code-from-node-js-86a773033892","previewContent":{"bodyModel":{"paragraphs":[{"name":"b4b9","type":3,"text":"How to call C/C++ code from Node.js","markups":[],"alignment":1},{"name":"57bd","type":1,"text":"It might be NOT that hard as you think! Let’s see you can you can call C/C++ code or use a native library from a Node.js app.","markups":[{"type":1,"start":71,"end":76},{"type":1,"start":113,"end":120}],"alignment":1},{"name":"892e","type":4,"text":"","markups":[],"layout":9,"metadata":{"id":"1*3gHe3G-U5IGn3mS2UAveKA.png","originalWidth":717,"originalHeight":385}}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892","approvedHomeCollectionId":"","newsletterId":"","webCanonicalUrl":"https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892","mediumUrl":"https://medium.com/@tarkus/how-to-call-c-c-code-from-node-js-86a773033892","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isNsfw":false,"isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"type":"Post"},"mentionedUsers":[],"collaborators":[],"membershipPlans":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"692b968dbc82":{"userId":"692b968dbc82","name":"Konstantin Tarkus","username":"tarkus","createdAt":1412282912617,"lastPostCreatedAt":1513419989511,"imageId":"1*HRxSs7dTZGK_RA1dfRoNRQ.jpeg","backgroundImageId":"1*3otdLy96vTHPvULsFygp2w.jpeg","bio":"Web developer, mentor, freelancer (@kriasoft), author of React Starter Kit — popular “isomorphic” web app boilerplate. PMs open via @koistya on Twitter","twitterScreenName":"koistya","socialStats":{"userId":"692b968dbc82","usersFollowedCount":224,"usersFollowedByCount":1362,"type":"SocialStats"},"social":{"userId":"lo_dnt_24c907419dd9","targetUserId":"692b968dbc82","type":"Social"},"facebookAccountId":"10152885190272868","allowNotes":1,"type":"User"}},"Social":{"692b968dbc82":{"userId":"lo_dnt_24c907419dd9","targetUserId":"692b968dbc82","type":"Social"}},"SocialStats":{"692b968dbc82":{"userId":"692b968dbc82","usersFollowedCount":224,"usersFollowedByCount":1362,"type":"SocialStats"}}}})
// ]]></script><div class="surface-scrollOverlay"></div><script charset="UTF-8" src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/main-common-async.bundle.IlHACqjPkxpGqs9_pAxXfw.js.download"></script><script charset="UTF-8" src="./How to call C_C++ code from Node.js – Konstantin Tarkus – Medium_files/main-notes.bundle.9trLv1ULaoOqI1YfdK9pOQ.js.download"></script></body></html>